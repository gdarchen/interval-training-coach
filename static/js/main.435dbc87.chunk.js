(this["webpackJsonpinterval-training-coach"]=this["webpackJsonpinterval-training-coach"]||[]).push([[3],{32:function(n,e,t){"use strict";function r(n){return function(e){e({type:"SAVE_TRAINING",training:n})}}function a(n,e){return function(t){t({type:"UPDATE_TRAINING",id:n,training:e})}}function i(n){return function(e){e({type:"SAVE_SELECTED_TRAINING",training:n})}}function c(n){return function(e){e({type:"SAVE_INTERVAL_TO_EDIT",interval:n})}}function o(n){return function(e){e({type:"DELETE_INTERVAL",intervalId:n})}}function u(n){return function(e){e({type:"SAVE_TRAINING_IN_CREATION",training:n})}}function l(n){return function(e){e({type:"DELETE_TRAINING",trainingId:n})}}t.d(e,"e",(function(){return r})),t.d(e,"g",(function(){return a})),t.d(e,"d",(function(){return i})),t.d(e,"a",(function(){return o})),t.d(e,"c",(function(){return c})),t.d(e,"f",(function(){return u})),t.d(e,"b",(function(){return l}))},53:function(n,e,t){n.exports=t(71)},68:function(n,e,t){},70:function(n,e,t){},71:function(n,e,t){"use strict";t.r(e);var r=t(4),a=t(84),i=t(25),c=t(47),o=t(85),u=t(42),l=t.n(u),s=t(0),d=t.n(s),f=t(17),g=t.n(f),E=t(18),p=t(13),b=t(44),v=t(81),h=t(36),m=t.n(h),I=t(34),T=t(11),O=(t(68),t(32)),N=d.a.lazy((function(){return Promise.all([t.e(0),t.e(12)]).then(t.bind(null,302))})),A=d.a.lazy((function(){return Promise.all([t.e(0),t.e(7),t.e(13)]).then(t.bind(null,280))})),_=d.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(8),t.e(11)]).then(t.bind(null,304))})),y=d.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(10)]).then(t.bind(null,152))})),w=d.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(9)]).then(t.bind(null,291))})),R=d.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(5),t.e(14)]).then(t.bind(null,292))})),j=Object(v.a)((function(n){return{offset:n.mixins.toolbar}})),S=Object(E.b)((function(n){return{intervalToEdit:n.trainingReducer.intervalToEdit}}),(function(n){return{saveIntervalToEdit:function(e){return n(Object(O.c)(e))}}}))((function(n){var e=n.saveIntervalToEdit,t=n.intervalToEdit,r=j();return d.a.createElement(I.a,{basename:"/interval-training-coach"},d.a.createElement(s.Suspense,{fallback:d.a.createElement("div",null,"Loading...")},d.a.createElement(N,null),d.a.createElement("div",{className:m()(r.offset,"App")},d.a.createElement(R,{isModalOpened:!!t,handleCloseModal:function(){e(null)}}),d.a.createElement(T.c,null,d.a.createElement(T.a,{exact:!0,path:"/"},d.a.createElement(_,null)),d.a.createElement(T.a,{path:"/credits"},d.a.createElement(A,null)),d.a.createElement(T.a,{path:"/training-creation"},d.a.createElement(y,null)),d.a.createElement(T.a,{path:"/training-edition"},d.a.createElement(w,null))))))})),L=(t(70),t(12)),V=t(10),k=t.n(V),C=function(n,e){var t=e,a=k.a.parent(t,"$..group[?(@.id == '".concat(n,"')]")),i=k.a.nodes(t,"$..group[?(@.id == '".concat(n,"')]"))[0].path;i.pop(),i.pop();var c=k.a.value(e,i);if(a&&1===a.length){i.pop();var o=k.a.value(e,i).filter((function(n){return n.id!==c.id}));t.periods=Object(L.a)(o)}else{var u=a.filter((function(e){return e.id!==n}));k.a.apply(t,"$..periods[?(@.id == '".concat(c.id,"')]"),(function(n){return Object(r.a)({},n,{group:Object(L.a)(u)})}))}return t},D=function(n,e){return n.filter((function(n){return n.id!==e}))},P=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SAVE_TRAINING":return Object(r.a)({},n,{trainings:[].concat(Object(L.a)(n.trainings),[e.training])});case"UPDATE_TRAINING":var t=n.trainings;return k.a.apply(t,"$[?(@.id == '".concat(e.id,"')]"),(function(n){return Object(r.a)({id:e.id},e.training)})),Object(r.a)({},n,{trainings:Object(L.a)(t)});case"SAVE_SELECTED_TRAINING":return Object(r.a)({},n,{selectedTraining:e.training});case"SAVE_INTERVAL_TO_EDIT":return Object(r.a)({},n,{intervalToEdit:e.interval});case"SAVE_TRAINING_IN_CREATION":return Object(r.a)({},n,{trainingInCreation:e.training});case"DELETE_TRAINING":var a=D(n.trainings,e.trainingId);return console.log(a),Object(r.a)({},n,{trainings:Object(L.a)(a)});case"DELETE_INTERVAL":var i=C(e.intervalId,n.trainingInCreation);return Object(r.a)({},n,{trainingInCreation:Object(r.a)({},i)});default:return n}},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var z=function(){try{var n=localStorage.getItem("state-itc");if(null===n)return;return JSON.parse(n)}catch(e){return}}(),F=Object(r.a)({},z,{},z&&z.trainingReducer&&z.trainingReducer.trainings.length?[]:{trainingReducer:{trainings:[{id:"f541eb16-aaca-49c7-ab88-549252bce27c",name:"Entrainement test 1",periods:[{id:"6f835219-8a96-4ad6-8f80-56084631c553",group:[{id:"bf47545a-15fa-4b7d-9e49-3dbb90349ea9",duration:{hours:0,minutes:20,seconds:0},description:"Endurance fondamentale"}],occurences:1},{id:"65c62e09-532c-4427-84fa-70d39228653a",group:[{id:"41f2e79e-bb45-43f3-8a4a-c3932fbf5e5a",duration:{hours:0,minutes:30,seconds:0},description:"Allure semi-marathon"},{id:"8a0175a2-fdcd-4fe7-b8dd-bc7b724305e4",duration:{hours:0,minutes:2,seconds:0},description:"Endurance fondamentale"}],occurences:2}]}]}}),U=Object(p.c)({trainingReducer:P}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,x=Object(p.e)(U,F,$(Object(p.a)(b.a)));x.subscribe(l()((function(){!function(n){try{var e=JSON.stringify(n);localStorage.setItem("state-itc",e)}catch(t){}}({trainingReducer:{trainings:x.getState().trainingReducer.trainings}})}),1e3));var J=Object(c.a)({palette:{primary:a.a,secondary:i.a,ternary:"#FFFFFF"}});g.a.render(d.a.createElement(E.a,{store:x},d.a.createElement(o.a,{theme:J},d.a.createElement(S,null))),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/interval-training-coach",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/interval-training-coach","/service-worker.js");G?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):W(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):W(e,n)}))}}()}},[[53,4,6]]]);
//# sourceMappingURL=main.435dbc87.chunk.js.map
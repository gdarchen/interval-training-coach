(this["webpackJsonpinterval-training-coach"]=this["webpackJsonpinterval-training-coach"]||[]).push([[11],{105:function(e,n,t){"use strict";var a=t(4),i=t(166),r=t(167),c=t(81),o=t(125),l=t.n(o),u=t(128),s=t.n(u),d=t(36),m=t.n(d),p=t(0),g=t.n(p),f=t(18),v=t(133),b=t(32);function E(e){var n=e.hours,t=e.minutes,a=e.seconds;return 0!==a?"".concat(n,"h ").concat(h(t),"m ").concat(h(a),"s"):"".concat(n,"h").concat(h(t))}function h(e){return e<10?"0".concat(e):"".concat(e)}var O=t(98),I=t(163),j=t(164),y=t(288),T=t(109),N=t.n(T),S=t(110),C=t.n(S),x=t(165),k=t(279),M=t(284),D=Object(c.a)({root:{minWidth:400},deleteIntervalButton:{marginLeft:"auto"}}),L=Object(f.b)(null,(function(e){return{deleteInterval:function(n){return e(Object(b.a)(n))}}}))((function(e){var n=e.intervalId,t=e.formattedDuration,a=e.description,i=e.isEditMode,r=e.deleteInterval,c=D();return g.a.createElement(I.a,{className:c.root},g.a.createElement(j.a,null,g.a.createElement(k.a,{variant:"h6",component:"h2"},a),g.a.createElement(k.a,{variant:"body2",component:"p"},t)),i&&g.a.createElement(x.a,{disableSpacing:!0},g.a.createElement(M.a,{title:"Edit interval",arrow:!0},g.a.createElement(y.a,{"aria-label":"edit interval",color:"secondary",size:"small"},g.a.createElement(N.a,null))),g.a.createElement(M.a,{title:"Delete interval",arrow:!0},g.a.createElement(y.a,{"aria-label":"delete interval",color:"secondary",size:"small",className:c.deleteIntervalButton,onClick:function(e){return function(e){e.stopPropagation(),r(n)}(e)}},g.a.createElement(C.a,null)))))})),w=Object(c.a)({root:{minWidth:100},content:{padding:"unset !important",height:45,display:"flex",alignItems:"center",justifyContent:"center"},occurences:{marginLeft:10,color:"red"}}),J=function(e){var n=e.occurences,t=w();return g.a.createElement(I.a,{className:t.root},g.a.createElement(j.a,{className:t.content},g.a.createElement(k.a,{variant:"subtitle1",component:"p"},"R\xe9p\xe9ter",g.a.createElement("span",{className:t.occurences},"\u2715 ",n))))},B=Object(c.a)({intervalListContainer:{display:"flex",alignItems:"center",flexDirection:"column"},period:{display:"flex",alignItems:"center",flexDirection:"row",color:"white"},list:{paddingTop:"20px"},paddedListItem:{"& > *:not(:last-child)":{marginBottom:"2px"}},listItem:{flexDirection:"column",alignItems:"center"},interval:{cursor:"pointer"},occurencesListItem:{paddingTop:0,paddingBottom:0}});n.a=Object(f.b)(null,(function(e){return{saveIntervalToEdit:function(n){return e(Object(b.c)(n))},saveTrainingInCreation:function(n){return e(Object(b.f)(n))}}}))((function(e){var n=e.training,t=e.isEditMode,c=e.saveIntervalToEdit,o=e.saveTrainingInCreation,u=B();if(!n)return null;var d=Object(v.c)((function(){return g.a.createElement(s.a,null)})),p=function(e){var n=e.period,a=e.index;return g.a.createElement("div",{key:"".concat(a,"-").concat(JSON.stringify(n.group),"-").concat(JSON.stringify(n.occurences)),className:u.period},t&&g.a.createElement(d,null),g.a.createElement(i.a,{className:u.list},g.a.createElement(r.a,{className:m()(u.listItem,u.paddedListItem)},n.group&&n.group.map((function(e,n){return g.a.createElement("div",{className:u.interval,onClick:function(){return t?c(e):Object(O.b)(Object(O.a)(e))},key:"".concat(n,"-").concat(JSON.stringify(e),"-").concat(JSON.stringify(e.occurences))},g.a.createElement(L,{intervalId:e.id,formattedDuration:e.duration?E(e.duration):null,description:e.description,isEditMode:t}))}))),n.occurences>1&&g.a.createElement(r.a,{className:m()(u.listItem,u.occurencesListItem)},g.a.createElement(J,{occurences:n.occurences}))))},f=Object(v.b)(p),b=function(){return g.a.createElement("div",null,n&&n.periods&&n.periods.map((function(e,n){var a=t?f:p;return g.a.createElement(a,{key:"sortable-item-".concat(n,"-").concat(JSON.stringify(e.group),"-").concat(JSON.stringify(e.occurences)),period:e,index:n})})))},h=Object(v.a)(b);return g.a.createElement("div",{className:u.intervalListContainer},t?g.a.createElement(h,{onSortEnd:function(e){var t=e.oldIndex,i=e.newIndex,r=l()(n.periods,t,i);o(Object(a.a)({},n,{periods:r})),console.log(t,i)},useDragHandle:!0}):g.a.createElement(b,null))}))},304:function(e,n,t){"use strict";t.r(n);var a=t(115),i=t(12),r=t(81),c=t(175),o=t.n(c),l=t(110),u=t.n(l),s=t(109),d=t.n(s),m=t(307),p=t(290),g=t(305),f=t(0),v=t.n(f),b=t(18),E=t(11),h=t(105),O=t(297),I=t(298),j=Object(r.a)((function(e){return{root:{marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center"},autocomplete:{"& .MuiAutocomplete-clearIndicator > span.MuiIconButton-label":{color:e.palette.primary.main},"& label, & .MuiAutocomplete-popupIndicator":{color:e.palette.secondary.light},"& .MuiOutlinedInput-root:not(.Mui-focused) .MuiOutlinedInput-notchedOutline, & .MuiInoutBase-root:hover":{borderColor:e.palette.secondary.light},"& .MuiAutocomplete-popupIndicatorOpen, & input":{color:e.palette.primary.main}}}})),y=Object(b.b)((function(e){return{trainings:e.trainingReducer.trainings}}))((function(e){var n=e.trainings,t=e.onTrainingSelection,a=e.selectedTraining,i=j();return n&&n.length?v.a.createElement("div",{className:i.root},v.a.createElement(I.a,{options:n,className:i.autocomplete,getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.name===a.name},onChange:t,style:{width:300},value:a||null,renderInput:function(e){return v.a.createElement(O.a,Object.assign({},e,{label:"Select a training",variant:"outlined"}))}})):null})),T=t(32),N=(t(98),Object(r.a)((function(e){return{speedDial:{position:"absolute","&.MuiSpeedDial-directionUp":{bottom:e.spacing(2),right:e.spacing(2)}}}})));n.default=Object(b.b)((function(e){return{selectedTraining:e.trainingReducer.selectedTraining,trainings:e.trainingReducer.trainings}}),(function(e){return{saveSelectedTraining:function(n){return e(Object(T.d)(n))},deleteTraining:function(n){return e(Object(T.b)(n))}}}))((function(e){var n=e.selectedTraining,t=e.trainings,r=e.saveSelectedTraining,c=e.deleteTraining,l=N(),s=Object(E.f)(),b=[{icon:v.a.createElement(o.a,null),name:"Create a training",onClick:function(){return s.push("/training-creation")}}].concat(Object(i.a)(n?[{icon:v.a.createElement(d.a,null),name:"Edit this training",onClick:function(){return s.push({pathname:"/training-edition",state:{trainingToEdit:n}})}}]:[]),Object(i.a)(n&&t&&t.length>1?[{icon:v.a.createElement(u.a,null),name:"Delete this training",onClick:function(){c(n.id),r(null)}}]:[])),O=Object(f.useState)(!1),I=Object(a.a)(O,2),j=I[0],T=I[1];return v.a.createElement(v.a.Fragment,null,v.a.createElement(y,{onTrainingSelection:function(e,n){r(n)},selectedTraining:n}),v.a.createElement(h.a,{training:n}),v.a.createElement(m.a,{ariaLabel:"speed-dial-main-actions",className:l.speedDial,icon:v.a.createElement(g.a,null),onClose:function(){T(!1)},onOpen:function(){T(!0)},open:j,direction:"up"},b.map((function(e){return v.a.createElement(p.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:e.onClick})}))))}))},98:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return i}));var a=function(e){var n=new SpeechSynthesisUtterance;n.text=e,n.volume=1,n.voice=speechSynthesis.getVoices().filter((function(e){return"Thomas"===e.name}))[0],speechSynthesis.speak(n)},i=function(e){var n=e.duration,t=n.hours,a=n.minutes,i=n.seconds;return t>0?0!==i?"".concat(e.description," pendant ").concat(t," heures ").concat(a," minutes et ").concat(i," secondes"):"".concat(e.description," pendant ").concat(t," heures et ").concat(a," minutes"):"".concat(e.description," pendant ").concat(a," minutes")}}}]);
//# sourceMappingURL=11.699dd095.chunk.js.map